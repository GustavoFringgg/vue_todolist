import{r as i,u as v,c as u,a as s,w as n,v as r,b as c,d as w,e as b,f as C,g as x,o as p,h as k}from"./index-mKzh4tJ_.js";const y={id:"signUpPage",class:"bg-yellow"},U={class:"conatiner signUpPage vhContainer"},h={class:"formControls",action:"index.html"},_={key:0},V="https://todolist-api.hexschool.io",q={__name:"signUp",setup(N){const m=i(""),a=i(""),d=v(),e=i({email:"",password:"",nickname:""}),g=async()=>{if(e.value.password!==a.value)return alert("密碼不相同");try{const l=await C.post(`${V}/users/sign_up`,e.value);m.value=l.data.uid,alert("註冊成功，導入登入頁面"),d.push({path:"/"})}catch(l){if(l.name==="AxiosError")return l.message="用戶已存在",alert(l.message)}};return(l,o)=>{const f=x("RouterLink");return p(),u("div",y,[s("div",U,[o[10]||(o[10]=s("div",{class:"side"},[s("a",{href:"#"},[s("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),s("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),s("div",null,[s("form",h,[o[5]||(o[5]=s("h2",{class:"formControls_txt"},"註冊帳號",-1)),o[6]||(o[6]=s("label",{class:"formControls_label",for:"email"},"Email",-1)),n(s("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email","onUpdate:modelValue":o[0]||(o[0]=t=>e.value.email=t),required:""},null,512),[[r,e.value.email]]),o[7]||(o[7]=s("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),n(s("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":o[1]||(o[1]=t=>e.value.nickname=t)},null,512),[[r,e.value.nickname]]),o[8]||(o[8]=s("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),n(s("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼","onUpdate:modelValue":o[2]||(o[2]=t=>e.value.password=t),required:""},null,512),[[r,e.value.password]]),o[9]||(o[9]=s("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),n(s("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼","onUpdate:modelValue":o[3]||(o[3]=t=>a.value=t),required:""},null,512),[[r,a.value]]),e.value.password!==a.value?(p(),u("span",_,"密碼不相同")):c("",!0),s("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:g}),w(f,{class:"formControls_btnLink",to:"/"},{default:b(()=>o[4]||(o[4]=[k("登入")])),_:1})])])])])}}};export{q as default};
