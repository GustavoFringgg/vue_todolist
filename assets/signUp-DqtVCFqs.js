import{r as i,u as g,c as u,a as e,w as l,v as a,b as v,d as C,e as b,f as k,S as m,g as x,o as d,h as y}from"./index-BRRFBOoj.js";const P={id:"signUpPage",class:"bg-yellow"},U={class:"conatiner signUpPage vhContainer"},h={class:"formControls",action:"index.html"},_={key:0},V="http://localhost:3000",q={__name:"signUp",setup(B){const p=i(""),f=g(),s=i({email:"",password:"",nickname:"",confirmPassword:""}),c=async()=>{if(s.value.password!==s.value.confirmPassword)return n("密碼不相同","error");if(!s.value.email||!s.value.password||!s.value.nickname||!s.value.confirmPassword)return n("資料不齊全","error");try{const t=await k.post(`${V}/users/sign_up`,s.value);console.log(t),p.value=t.data.uid,m.fire({position:"top",title:"註冊成功，導回登入頁",icon:"success",timer:1e3,toast:!0,showConfirmButton:!1,timerProgressBar:!0}),f.push({path:"/"})}catch(t){return console.log("error",t),n(t.response.data.message,"error")}},n=(t,o)=>m.fire({position:"top",title:t,icon:o,timer:1500,toast:!0,showConfirmButton:!1,timerProgressBar:!0});return(t,o)=>{const w=x("RouterLink");return d(),u("div",P,[e("div",U,[o[10]||(o[10]=e("div",{class:"side"},[e("a",{href:"#"},[e("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),e("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),e("div",null,[e("form",h,[o[5]||(o[5]=e("h2",{class:"formControls_txt"},"註冊帳號",-1)),o[6]||(o[6]=e("label",{class:"formControls_label",for:"email"},"Email",-1)),l(e("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email","onUpdate:modelValue":o[0]||(o[0]=r=>s.value.email=r),required:""},null,512),[[a,s.value.email]]),o[7]||(o[7]=e("label",{class:"formControls_label",for:"name"},"您的暱稱",-1)),l(e("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":o[1]||(o[1]=r=>s.value.nickname=r)},null,512),[[a,s.value.nickname]]),o[8]||(o[8]=e("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),l(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼","onUpdate:modelValue":o[2]||(o[2]=r=>s.value.password=r),required:""},null,512),[[a,s.value.password]]),o[9]||(o[9]=e("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1)),l(e("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼","onUpdate:modelValue":o[3]||(o[3]=r=>s.value.confirmPassword=r),required:""},null,512),[[a,s.value.confirmPassword]]),s.value.password!==s.value.confirmPassword?(d(),u("span",_,"密碼不相同")):v("",!0),e("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:c}),C(w,{class:"formControls_btnLink",to:"/"},{default:b(()=>o[4]||(o[4]=[y("登入")])),_:1})])])])])}}};export{q as default};
